<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Wllama | @wllama/wllama</title><meta name="description" content="Documentation for @wllama/wllama"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@wllama/wllama</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@wllama/wllama</a></li><li><a href="Wllama.html">Wllama</a></li></ul><h1>Class Wllama</h1></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L269">src/wllama.ts:269</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="Wllama.html#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="Wllama.html#cachemanager" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>cache<wbr/>Manager</span></a>
<a href="Wllama.html#modelmanager" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>model<wbr/>Manager</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="Wllama.html#_getdebuginfo" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Debug<wbr/>Info</span></a>
<a href="Wllama.html#_testbenchmark" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_test<wbr/>Benchmark</span></a>
<a href="Wllama.html#_testperplexity" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_test<wbr/>Perplexity</span></a>
<a href="Wllama.html#createchatcompletion" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Chat<wbr/>Completion</span></a>
<a href="Wllama.html#createcompletion" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Completion</span></a>
<a href="Wllama.html#createembedding" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Embedding</span></a>
<a href="Wllama.html#decode" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>decode</span></a>
<a href="Wllama.html#detokenize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>detokenize</span></a>
<a href="Wllama.html#embeddings" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>embeddings</span></a>
<a href="Wllama.html#encode" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>encode</span></a>
<a href="Wllama.html#exit" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>exit</span></a>
<a href="Wllama.html#formatchat" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>format<wbr/>Chat</span></a>
<a href="Wllama.html#getbos" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>getBOS</span></a>
<a href="Wllama.html#getchattemplate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Chat<wbr/>Template</span></a>
<a href="Wllama.html#getdecoderstarttoken" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Decoder<wbr/>Start<wbr/>Token</span></a>
<a href="Wllama.html#geteos" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>getEOS</span></a>
<a href="Wllama.html#geteot" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>getEOT</span></a>
<a href="Wllama.html#getloadedcontextinfo" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Loaded<wbr/>Context<wbr/>Info</span></a>
<a href="Wllama.html#getlogits" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Logits</span></a>
<a href="Wllama.html#getmodelmetadata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Model<wbr/>Metadata</span></a>
<a href="Wllama.html#getnumthreads" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Num<wbr/>Threads</span></a>
<a href="Wllama.html#getvocab" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Vocab</span></a>
<a href="Wllama.html#isencoderdecoderarchitecture" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Encoder<wbr/>Decoder<wbr/>Architecture</span></a>
<a href="Wllama.html#ismodelloaded" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Model<wbr/>Loaded</span></a>
<a href="Wllama.html#ismultithread" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Multithread</span></a>
<a href="Wllama.html#istokeneog" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>TokenEOG</span></a>
<a href="Wllama.html#kvclear" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>kv<wbr/>Clear</span></a>
<a href="Wllama.html#kvremove" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>kv<wbr/>Remove</span></a>
<a href="Wllama.html#loadmodel" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>load<wbr/>Model</span></a>
<a href="Wllama.html#loadmodelfromhf" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>load<wbr/>Model<wbr/>FromHF</span></a>
<a href="Wllama.html#loadmodelfromurl" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>load<wbr/>Model<wbr/>From<wbr/>Url</span></a>
<a href="Wllama.html#lookuptoken" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>lookup<wbr/>Token</span></a>
<a href="Wllama.html#mustaddbostoken" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>must<wbr/>Add<wbr/>Bos<wbr/>Token</span></a>
<a href="Wllama.html#mustaddeostoken" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>must<wbr/>Add<wbr/>Eos<wbr/>Token</span></a>
<a href="Wllama.html#samplingaccept" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>sampling<wbr/>Accept</span></a>
<a href="Wllama.html#samplinginit" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>sampling<wbr/>Init</span></a>
<a href="Wllama.html#samplingsample" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>sampling<wbr/>Sample</span></a>
<a href="Wllama.html#setoptions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>Options</span></a>
<a href="Wllama.html#tokenize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>tokenize</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Constructors</h2></summary><section><section class="tsd-panel tsd-member"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="constructorwllama" class="tsd-anchor"></a><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">Wllama</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">pathConfig</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/AssetsPathConfig.html" class="tsd-signature-type tsd-kind-interface">AssetsPathConfig</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">wllamaConfig</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/WllamaConfig.html" class="tsd-signature-type tsd-kind-interface">WllamaConfig</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="Wllama.html" class="tsd-signature-type tsd-kind-class">Wllama</a><a href="#constructorwllama" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">pathConfig</span>: <a href="../interfaces/AssetsPathConfig.html" class="tsd-signature-type tsd-kind-interface">AssetsPathConfig</a></span></li><li><span><span class="tsd-kind-parameter">wllamaConfig</span>: <a href="../interfaces/WllamaConfig.html" class="tsd-signature-type tsd-kind-interface">WllamaConfig</a><span class="tsd-signature-symbol"> = {}</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Wllama.html" class="tsd-signature-type tsd-kind-class">Wllama</a></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L295">src/wllama.ts:295</a></li></ul></aside></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Properties</h2></summary><section><section class="tsd-panel tsd-member"><a id="cachemanager" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>cache<wbr/>Manager</span><a href="#cachemanager" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">cacheManager</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">CacheManager</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L271">src/wllama.ts:271</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="modelmanager" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>model<wbr/>Manager</span><a href="#modelmanager" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">modelManager</span><span class="tsd-signature-symbol">:</span> <a href="ModelManager.html" class="tsd-signature-type tsd-kind-class">ModelManager</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L272">src/wllama.ts:272</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Methods</h2></summary><section><section class="tsd-panel tsd-member"><a id="_getdebuginfo" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_get<wbr/>Debug<wbr/>Info</span><a href="#_getdebuginfo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="_getdebuginfo-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_getDebugInfo</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><a href="#_getdebuginfo-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>get debug info</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1295">src/wllama.ts:1295</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="_testbenchmark" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_test<wbr/>Benchmark</span><a href="#_testbenchmark" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="_testbenchmark-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_testBenchmark</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">type</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;tg&quot;</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">&quot;pp&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">nSamples</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">t_ms</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#_testbenchmark-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>benchmark function, only used internally</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">type</span>: <span class="tsd-signature-type">&quot;tg&quot;</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">&quot;pp&quot;</span></span></li><li><span><span class="tsd-kind-parameter">nSamples</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">t_ms</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1303">src/wllama.ts:1303</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="_testperplexity" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>_test<wbr/>Perplexity</span><a href="#_testperplexity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="_testperplexity-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">_testPerplexity</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">ppl</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#_testperplexity-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>perplexity function, only used internally</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">ppl</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1321">src/wllama.ts:1321</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="createchatcompletion" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>create<wbr/>Chat<wbr/>Completion</span><a href="#createchatcompletion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="createchatcompletion-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">createChatCompletion</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">messages</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/WllamaChatMessage.html" class="tsd-signature-type tsd-kind-interface">WllamaChatMessage</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/ChatCompletionOptions.html" class="tsd-signature-type tsd-kind-interface">ChatCompletionOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">stream</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">false</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#createchatcompletion-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Make completion for a given chat messages.</p>
<p>NOTE: this function uses the chat template (if available) to format the chat messages. If the template is not available, it will use the default format (chatml). It can throw an error if the chat template is not compatible.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">messages</span>: <a href="../interfaces/WllamaChatMessage.html" class="tsd-signature-type tsd-kind-interface">WllamaChatMessage</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>Chat messages</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/ChatCompletionOptions.html" class="tsd-signature-type tsd-kind-interface">ChatCompletionOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">stream</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">false</span> <span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Output completion text (only the completion part)</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L700">src/wllama.ts:700</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="createchatcompletion-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">createChatCompletion</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">messages</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/WllamaChatMessage.html" class="tsd-signature-type tsd-kind-interface">WllamaChatMessage</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/ChatCompletionOptions.html" class="tsd-signature-type tsd-kind-interface">ChatCompletionOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">stream</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">true</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">AsyncIterable</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CompletionChunk.html" class="tsd-signature-type tsd-kind-interface">CompletionChunk</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#createchatcompletion-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Make completion for a given chat messages.</p>
<p>NOTE: this function uses the chat template (if available) to format the chat messages. If the template is not available, it will use the default format (chatml). It can throw an error if the chat template is not compatible.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">messages</span>: <a href="../interfaces/WllamaChatMessage.html" class="tsd-signature-type tsd-kind-interface">WllamaChatMessage</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>Chat messages</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/ChatCompletionOptions.html" class="tsd-signature-type tsd-kind-interface">ChatCompletionOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">stream</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">true</span> <span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">AsyncIterable</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CompletionChunk.html" class="tsd-signature-type tsd-kind-interface">CompletionChunk</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Output completion text (only the completion part)</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L704">src/wllama.ts:704</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="createcompletion" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>create<wbr/>Completion</span><a href="#createcompletion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="createcompletion-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">createCompletion</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">prompt</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/ChatCompletionOptions.html" class="tsd-signature-type tsd-kind-interface">ChatCompletionOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">stream</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">false</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#createcompletion-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Make completion for a given text.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">prompt</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Input text</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/ChatCompletionOptions.html" class="tsd-signature-type tsd-kind-interface">ChatCompletionOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">stream</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">false</span> <span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Output completion text (only the completion part)</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L724">src/wllama.ts:724</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="createcompletion-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">createCompletion</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">prompt</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/ChatCompletionOptions.html" class="tsd-signature-type tsd-kind-interface">ChatCompletionOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">stream</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">true</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">AsyncIterable</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CompletionChunk.html" class="tsd-signature-type tsd-kind-interface">CompletionChunk</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#createcompletion-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Make completion for a given text.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">prompt</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Input text</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/ChatCompletionOptions.html" class="tsd-signature-type tsd-kind-interface">ChatCompletionOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">stream</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">true</span> <span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">AsyncIterable</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/CompletionChunk.html" class="tsd-signature-type tsd-kind-interface">CompletionChunk</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Output completion text (only the completion part)</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L728">src/wllama.ts:728</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="createembedding" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>create<wbr/>Embedding</span><a href="#createembedding" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="createembedding-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">createEmbedding</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">text</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">skipBOS</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">skipEOS</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#createembedding-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Calculate embedding vector for a given text.
By default, BOS and EOS tokens will be added automatically. You can use the &quot;skipBOS&quot; and &quot;skipEOS&quot; option to disable it.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">text</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Input text</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">skipBOS</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">skipEOS</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>An embedding vector</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L665">src/wllama.ts:665</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="decode" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>decode</span><a href="#decode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="decode-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">decode</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CompletionOptions.html" class="tsd-signature-type tsd-kind-interface">CompletionOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">nPast</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#decode-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Run llama_decode()</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>A list of tokens to be decoded</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/CompletionOptions.html" class="tsd-signature-type tsd-kind-interface">CompletionOptions</a></span><div class="tsd-comment tsd-typography"><p>Additional options</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">nPast</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><p>n_past (number of tokens so far in the sequence)</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L940">src/wllama.ts:940</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="detokenize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>detokenize</span><a href="#detokenize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="detokenize-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">detokenize</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">returnString</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">false</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">&gt;</span><a href="#detokenize-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Convert a list of tokens to text</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">returnString</span>: <span class="tsd-signature-type">false</span></span><div class="tsd-comment tsd-typography"><p>Return a string instead of Uint8Array</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Uint8Array, which maybe an unfinished unicode</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L917">src/wllama.ts:917</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="detokenize-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">detokenize</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">returnString</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">true</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#detokenize-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Convert a list of tokens to text</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">returnString</span>: <span class="tsd-signature-type">true</span></span><div class="tsd-comment tsd-typography"><p>Return a string instead of Uint8Array</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Uint8Array, which maybe an unfinished unicode</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L918">src/wllama.ts:918</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="embeddings" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>embeddings</span><a href="#embeddings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="embeddings-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">embeddings</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#embeddings-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Calculate embeddings for a given list of tokens. Output vector is always normalized</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A list of number represents an embedding vector of N dimensions</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1120">src/wllama.ts:1120</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="encode" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>encode</span><a href="#encode" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="encode-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">encode</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/CompletionOptions.html" class="tsd-signature-type tsd-kind-interface">CompletionOptions</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">nPast</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#encode-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Run llama_encode()</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>A list of tokens to be encoded</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/CompletionOptions.html" class="tsd-signature-type tsd-kind-interface">CompletionOptions</a></span><div class="tsd-comment tsd-typography"><p>Additional options</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">nPast</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><p>n_past (number of tokens so far in the sequence)</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L993">src/wllama.ts:993</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="exit" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>exit</span><a href="#exit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="exit-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">exit</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#exit-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Unload the model and free all memory.</p>
<p>Note: This function will NOT crash if model is not yet loaded</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1287">src/wllama.ts:1287</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="formatchat" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>format<wbr/>Chat</span><a href="#formatchat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="formatchat-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">formatChat</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">messages</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/WllamaChatMessage.html" class="tsd-signature-type tsd-kind-interface">WllamaChatMessage</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">addAssistant</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">template</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><a href="#formatchat-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Apply chat template to a list of messages</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">messages</span>: <a href="../interfaces/WllamaChatMessage.html" class="tsd-signature-type tsd-kind-interface">WllamaChatMessage</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>list of messages</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">addAssistant</span>: <span class="tsd-signature-type">boolean</span></span><div class="tsd-comment tsd-typography"><p>whether to add assistant prompt at the end</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">template</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>(optional) custom template, see llama-server --chat-template argument for more details</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>formatted chat</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1246">src/wllama.ts:1246</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getbos" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>getBOS</span><a href="#getbos" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getbos-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getBOS</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><a href="#getbos-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get token ID associated to BOS (begin of sentence) token.</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><p>-1 if the model is not loaded.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L338">src/wllama.ts:338</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getchattemplate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Chat<wbr/>Template</span><a href="#getchattemplate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getchattemplate-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getChatTemplate</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span><a href="#getchattemplate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the jinja chat template comes with the model. It only available if the original model (before converting to gguf) has the template in <code>tokenizer_config.json</code></p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span></h4><p>the jinja template. null if there is no template in gguf</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L468">src/wllama.ts:468</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getdecoderstarttoken" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Decoder<wbr/>Start<wbr/>Token</span><a href="#getdecoderstarttoken" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getdecoderstarttoken-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getDecoderStartToken</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><a href="#getdecoderstarttoken-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get token ID associated to token used by decoder, to start generating output sequence(only usable for encoder-decoder architecture). In other words, encoder uses normal BOS and decoder uses this token.</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><p>-1 if the model is not loaded.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L385">src/wllama.ts:385</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="geteos" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>getEOS</span><a href="#geteos" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="geteos-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getEOS</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><a href="#geteos-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get token ID associated to EOS (end of sentence) token.</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><p>-1 if the model is not loaded.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L349">src/wllama.ts:349</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="geteot" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>getEOT</span><a href="#geteot" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="geteot-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getEOT</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><a href="#geteot-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get token ID associated to EOT (end of turn) token.</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><p>-1 if the model is not loaded.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L360">src/wllama.ts:360</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getloadedcontextinfo" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Loaded<wbr/>Context<wbr/>Info</span><a href="#getloadedcontextinfo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getloadedcontextinfo-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getLoadedContextInfo</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/LoadedContextInfo.html" class="tsd-signature-type tsd-kind-interface">LoadedContextInfo</a><a href="#getloadedcontextinfo-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="../interfaces/LoadedContextInfo.html" class="tsd-signature-type tsd-kind-interface">LoadedContextInfo</a></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L647">src/wllama.ts:647</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getlogits" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Logits</span><a href="#getlogits" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getlogits-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getLogits</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">topK</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">p</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">token</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getlogits-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get softmax-ed probability of logits, can be used for custom sampling</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">topK</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 40</span></span><div class="tsd-comment tsd-typography"><p>Get top K tokens having highest logits value. If topK == -1, we return all n_vocab logits, but this is not recommended because it's slow.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">p</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">token</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1096">src/wllama.ts:1096</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getmodelmetadata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Model<wbr/>Metadata</span><a href="#getmodelmetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getmodelmetadata-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getModelMetadata</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/ModelMetadata.html" class="tsd-signature-type tsd-kind-interface">ModelMetadata</a><a href="#getmodelmetadata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get model hyper-parameters and metadata</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../interfaces/ModelMetadata.html" class="tsd-signature-type tsd-kind-interface">ModelMetadata</a></h4><p>ModelMetadata</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L396">src/wllama.ts:396</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getnumthreads" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Num<wbr/>Threads</span><a href="#getnumthreads" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getnumthreads-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getNumThreads</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><a href="#getnumthreads-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get number of threads used in the current context.</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><p>number of threads</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L420">src/wllama.ts:420</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getvocab" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Vocab</span><a href="#getvocab" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getvocab-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">getVocab</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getvocab-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get a list of pieces in vocab.
NOTE: This function is slow, should only be used once.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A list of Uint8Array. The nth element in the list associated to nth token in vocab</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L859">src/wllama.ts:859</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="isencoderdecoderarchitecture" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Encoder<wbr/>Decoder<wbr/>Architecture</span><a href="#isencoderdecoderarchitecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="isencoderdecoderarchitecture-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">isEncoderDecoderArchitecture</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#isencoderdecoderarchitecture-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Check if the current model uses encoder-decoder architecture</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>true if multi-thread is used.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L432">src/wllama.ts:432</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="ismodelloaded" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Model<wbr/>Loaded</span><a href="#ismodelloaded" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="ismodelloaded-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">isModelLoaded</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#ismodelloaded-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Check if the model is loaded via <code>loadModel()</code></p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L327">src/wllama.ts:327</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="ismultithread" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Multithread</span><a href="#ismultithread" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="ismultithread-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">isMultithread</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#ismultithread-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Check if we're currently using multi-thread build.</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>true if multi-thread is used.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L408">src/wllama.ts:408</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="istokeneog" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>TokenEOG</span><a href="#istokeneog" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="istokeneog-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">isTokenEOG</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">token</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#istokeneog-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Check if a given token is end-of-generation token (e.g. EOS, EOT, etc.)</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">token</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>the token ID to be checked</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>true if the token is EOS, EOT, or any other end-of-generation tokens</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L370">src/wllama.ts:370</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="kvclear" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>kv<wbr/>Clear</span><a href="#kvclear" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="kvclear-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">kvClear</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#kvclear-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Clear all tokens in KV cache</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1191">src/wllama.ts:1191</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="kvremove" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>kv<wbr/>Remove</span><a href="#kvremove" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="kvremove-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">kvRemove</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">nKeep</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">nDiscard</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#kvremove-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove and shift some tokens from KV cache.
Keep n_keep, remove n_discard then shift the rest</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">nKeep</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">nDiscard</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1171">src/wllama.ts:1171</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="loadmodel" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>load<wbr/>Model</span><a href="#loadmodel" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="loadmodel-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">loadModel</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">ggufBlobsOrModel</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Blob</span><span class="tsd-signature-symbol">[]</span> <span class="tsd-signature-symbol">|</span> <a href="Model.html" class="tsd-signature-type tsd-kind-class">Model</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/LoadModelConfig.html" class="tsd-signature-type tsd-kind-interface">LoadModelConfig</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#loadmodel-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Load model from a given list of Blob.</p>
<p>You can pass multiple buffers into the function (in case the model contains multiple shards).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">ggufBlobsOrModel</span>: <span class="tsd-signature-type">Blob</span><span class="tsd-signature-symbol">[]</span> <span class="tsd-signature-symbol">|</span> <a href="Model.html" class="tsd-signature-type tsd-kind-class">Model</a></span><div class="tsd-comment tsd-typography"><p>Can be either list of Blobs (in case you use local file), or a Model object (in case you use ModelManager)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <a href="../interfaces/LoadModelConfig.html" class="tsd-signature-type tsd-kind-interface">LoadModelConfig</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>LoadModelConfig</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L525">src/wllama.ts:525</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="loadmodelfromhf" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>load<wbr/>Model<wbr/>FromHF</span><a href="#loadmodelfromhf" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="loadmodelfromhf-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">loadModelFromHF</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">modelId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">filePath</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/LoadModelConfig.html" class="tsd-signature-type tsd-kind-interface">LoadModelConfig</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/DownloadOptions.html" class="tsd-signature-type tsd-kind-type-alias">DownloadOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">useCache</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#loadmodelfromhf-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Load model from a given Hugging Face model ID and file path.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">modelId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The HF model ID, for example: 'ggml-org/models'</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">filePath</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The GGUF file path, for example: 'tinyllamas/stories15M-q4_0.gguf'</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <a href="../interfaces/LoadModelConfig.html" class="tsd-signature-type tsd-kind-interface">LoadModelConfig</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/DownloadOptions.html" class="tsd-signature-type tsd-kind-type-alias">DownloadOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">useCache</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L500">src/wllama.ts:500</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="loadmodelfromurl" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>load<wbr/>Model<wbr/>From<wbr/>Url</span><a href="#loadmodelfromurl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="loadmodelfromurl-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">loadModelFromUrl</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">modelUrl</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/LoadModelConfig.html" class="tsd-signature-type tsd-kind-interface">LoadModelConfig</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/DownloadOptions.html" class="tsd-signature-type tsd-kind-type-alias">DownloadOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">useCache</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#loadmodelfromurl-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Load model from a given URL (or a list of URLs, in case the model is splitted into smaller files)</p>
<ul>
<li>If the model already been downloaded (via <code>downloadModel()</code>), then we will use the cached model</li>
<li>Else, we download the model from internet</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">modelUrl</span>: <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>URL to the GGUF file. If the model is splitted, pass the URL to the first shard.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <a href="../interfaces/LoadModelConfig.html" class="tsd-signature-type tsd-kind-interface">LoadModelConfig</a> <span class="tsd-signature-symbol">&amp;</span> <a href="../types/DownloadOptions.html" class="tsd-signature-type tsd-kind-type-alias">DownloadOptions</a> <span class="tsd-signature-symbol">&amp;</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">useCache</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L480">src/wllama.ts:480</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="lookuptoken" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>lookup<wbr/>Token</span><a href="#lookuptoken" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="lookuptoken-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">lookupToken</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">piece</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#lookuptoken-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Lookup to see if a token exist in vocab or not. Useful for searching special tokens like &quot;&lt;|im_start|&gt;&quot;
NOTE: It will match the whole token, so do not use it as a replacement for tokenize()</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">piece</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Token ID associated to the given piece. Returns -1 if cannot find the token.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L876">src/wllama.ts:876</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="mustaddbostoken" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>must<wbr/>Add<wbr/>Bos<wbr/>Token</span><a href="#mustaddbostoken" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="mustaddbostoken-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">mustAddBosToken</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#mustaddbostoken-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Must we add BOS token to the tokenized sequence?</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>true if BOS token must be added to the sequence</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L444">src/wllama.ts:444</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="mustaddeostoken" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>must<wbr/>Add<wbr/>Eos<wbr/>Token</span><a href="#mustaddeostoken" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="mustaddeostoken-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">mustAddEosToken</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#mustaddeostoken-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Must we add EOS token to the tokenized sequence?</p>
<p>NOTE: This can only being used after <code>loadModel</code> is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>true if EOS token must be added to the sequence</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L456">src/wllama.ts:456</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="samplingaccept" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>sampling<wbr/>Accept</span><a href="#samplingaccept" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="samplingaccept-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">samplingAccept</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">tokens</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#samplingaccept-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Accept and save a new token to ctx_sampling</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">tokens</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1078">src/wllama.ts:1078</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="samplinginit" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>sampling<wbr/>Init</span><a href="#samplinginit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="samplinginit-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">samplingInit</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/SamplingConfig.html" class="tsd-signature-type tsd-kind-interface">SamplingConfig</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">pastTokens</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#samplinginit-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create or reset the ctx_sampling</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">config</span>: <a href="../interfaces/SamplingConfig.html" class="tsd-signature-type tsd-kind-interface">SamplingConfig</a></span><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">pastTokens</span>: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>In case re-initializing the ctx_sampling, you can re-import past tokens into the new context</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L835">src/wllama.ts:835</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="samplingsample" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>sampling<wbr/>Sample</span><a href="#samplingsample" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="samplingsample-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">samplingSample</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">piece</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">token</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#samplingsample-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Sample a new token (remember to samplingInit() at least once before calling this function)</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">piece</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">token</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><p>the token ID and its detokenized value (which maybe an unfinished unicode)</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1060">src/wllama.ts:1060</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="setoptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>set<wbr/>Options</span><a href="#setoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="setoptions-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">setOptions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">opt</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/ContextOptions.html" class="tsd-signature-type tsd-kind-interface">ContextOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#setoptions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Set options for underlaying llama_context</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">opt</span>: <a href="../interfaces/ContextOptions.html" class="tsd-signature-type tsd-kind-interface">ContextOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L1273">src/wllama.ts:1273</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="tokenize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>tokenize</span><a href="#tokenize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="tokenize-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">tokenize</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">text</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">special</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#tokenize-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Convert a given text to list of tokens</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">text</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">special</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></span><div class="tsd-comment tsd-typography"><p>Should split special tokens?</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>List of token ID</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/ngxson/wllama/blob/e4bd5e79b316d0b40c71322b426116ec43f8b93e/src/wllama.ts#L898">src/wllama.ts:898</a></li></ul></aside></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#cachemanager" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>cache<wbr/>Manager</span></a><a href="#modelmanager" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>model<wbr/>Manager</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#_getdebuginfo" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_get<wbr/>Debug<wbr/>Info</span></a><a href="#_testbenchmark" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_test<wbr/>Benchmark</span></a><a href="#_testperplexity" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>_test<wbr/>Perplexity</span></a><a href="#createchatcompletion" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Chat<wbr/>Completion</span></a><a href="#createcompletion" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Completion</span></a><a href="#createembedding" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Embedding</span></a><a href="#decode" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>decode</span></a><a href="#detokenize" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>detokenize</span></a><a href="#embeddings" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>embeddings</span></a><a href="#encode" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>encode</span></a><a href="#exit" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>exit</span></a><a href="#formatchat" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>format<wbr/>Chat</span></a><a href="#getbos" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>getBOS</span></a><a href="#getchattemplate" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Chat<wbr/>Template</span></a><a href="#getdecoderstarttoken" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Decoder<wbr/>Start<wbr/>Token</span></a><a href="#geteos" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>getEOS</span></a><a href="#geteot" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>getEOT</span></a><a href="#getloadedcontextinfo" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Loaded<wbr/>Context<wbr/>Info</span></a><a href="#getlogits" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Logits</span></a><a href="#getmodelmetadata" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Model<wbr/>Metadata</span></a><a href="#getnumthreads" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Num<wbr/>Threads</span></a><a href="#getvocab" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Vocab</span></a><a href="#isencoderdecoderarchitecture" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Encoder<wbr/>Decoder<wbr/>Architecture</span></a><a href="#ismodelloaded" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Model<wbr/>Loaded</span></a><a href="#ismultithread" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Multithread</span></a><a href="#istokeneog" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>TokenEOG</span></a><a href="#kvclear" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>kv<wbr/>Clear</span></a><a href="#kvremove" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>kv<wbr/>Remove</span></a><a href="#loadmodel" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>load<wbr/>Model</span></a><a href="#loadmodelfromhf" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>load<wbr/>Model<wbr/>FromHF</span></a><a href="#loadmodelfromurl" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>load<wbr/>Model<wbr/>From<wbr/>Url</span></a><a href="#lookuptoken" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>lookup<wbr/>Token</span></a><a href="#mustaddbostoken" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>must<wbr/>Add<wbr/>Bos<wbr/>Token</span></a><a href="#mustaddeostoken" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>must<wbr/>Add<wbr/>Eos<wbr/>Token</span></a><a href="#samplingaccept" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>sampling<wbr/>Accept</span></a><a href="#samplinginit" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>sampling<wbr/>Init</span></a><a href="#samplingsample" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>sampling<wbr/>Sample</span></a><a href="#setoptions" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>set<wbr/>Options</span></a><a href="#tokenize" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>tokenize</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">@wllama/wllama</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
